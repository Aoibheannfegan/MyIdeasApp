{% extends "layout.html" %}

{% block title %}
Ideas
{% endblock %}

{% block main %}
<form method="post" action="/review">
    <section>
        <div class="mb-3">
            <select class="form-control w-auto" name="stage">
                <option disabled selected value="">All Stages</option>
                {% for stage in stages %}
                    <option value="{{ stage.stage }}">{{ stage.stage }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3"><button class="form-control w-auto button" type="submit">Filter</button></div>
    </section>

    <table>
        <thead>
            <tr>
                <th>Idea</th>
                <th>Stage</th>
                <th>Upvotes</th>
                <th>Downvotes</th>
            </tr>
        </thead>

        <tbody>
            <!-- Add ideas to Table -->
            {% for idea in ideas %}
                <tr>

                    <td><a href="{{ url_for("idea_page", idea_id = idea.idea_id) }}" class="vote">{{ idea.title }}</a></td>
                    <td name="stage">{{ idea.stage }}</td>
                    <td name="upvotes">{{ idea.upvotes }}</td>
                    <td name="downvotes">{{ idea.downvotes }}</td>
                 </tr>
            {% endfor %}
        </tbody>
    </table>
</form>
{% endblock %}